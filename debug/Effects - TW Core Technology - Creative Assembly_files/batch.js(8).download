WRMCB=function(e){var c=console;if(c&&c.log&&c.error){c.log('Error running batched script.');c.error(e);}}
;
try {
/* module-key = 'com.refinedwiki.confluence.plugins.theme.original:67', location = 'space-news-macro.c68b75984fec310718b2.js' */
(window.webpackJsonpRefinedConfluenceWebPack=window.webpackJsonpRefinedConfluenceWebPack||[]).push([[67],{522:function(e,t,a){"use strict";a.r(t),function(e){a.d(t,"SpaceNewsMacroController",(function(){return f}));var s=a(0),n=a.n(s),o=a(2),r=a(286),i=a(235),c=a(14),l=a(174);let p,d,w,_;let u=!1,h=0;const f={init(e){d=n()(l.spaceNewsItemTemplate()),w=n()(c.loadMoreButton()),_=n()("<ul></ul>"),e.each((function(e){m(n()("#rw_space_news_macro",n()(this)),0,0===e)}))},loadSpaceNews(e,t,a,s,n,o,r,i){b(e,t,a,s,n,o,r,i)},showSpaceNews(e){!function(e){const t=n()(e).parent();t.find("#rw_space_news_container").show(),t.find("#rw_space_news_show").hide(),t.find("#rw_space_news_hide").show()}(e)},hideSpaceNews(e){!function(e){const t=n()(e).parent();t.find("#rw_space_news_container").hide(),t.find("#rw_space_news_show").show(),t.find("#rw_space_news_hide").hide()}(e)}};function m(e,t,a){let s=n()("#spaceKeyVarSpaceNews",e.parent()).html(),r=n()("#stepSizeVarNews",e.parent()).html(),c=n()("#collapsedVarSpaceNews",e.parent()).html();c&&(c="true"===c.trim());let d=n()("#labelsVarSpaceNews",e.parent()).html();d&&(d=d.trim());const w=n()("#isHomePageVarSpaceNews",e.parent()).html(),_=n()("#titleVarSpaceNews",e.parent()).html();p=n()(l.spaceNewsContainerTemplate({isHomePage:w,collapsed:c,spaceKey:s,title:_})),o.default.isEmpty(r)||(r=r.trim()),void 0!==s&&""!==s||void 0!==i.a.spaceLayoutKey&&""!==i.a.spaceLayoutKey&&(s=i.a.spaceLayoutKey),void 0!==s&&""!==s&&b(e,t,a,s,r,c,d)}function b(t,a,s,o,i,c,l,f){n.a.ajax({type:"GET",url:`${e()}/rest/refinedtheme/latest/blog/post`,data:{"start-index":a,"max-results":i,keys:o,labels:l,"profile-pic":!1},dataType:"json",success(e){if(n()(".rw_loader_box",t).remove(),u=e.hasMore,void 0!==e.blogPosts&&e.blogPosts.length>0){if(s&&t.parent().find(".rw_sidebar_icon").removeClass("rw_hidden"),0===a)if(f){const e=_.clone();e.addClass("rw_flyout_items"),e.attr("id","rw_space_news_list"),t.append(e)}else t.append(p.clone());const m=n()("ul",t);if(n.a.each(e.blogPosts,(function(){h+=1,function(e,t){const a=d.clone(),s=n()("a",a),o=n()("a span",a),r=n()(".rw_date",a);s.attr("title",e.title),s.attr("href",e.url),o.html(e.title),r.html(e.date),h%2==0&&s.addClass("rw_space_news_alternating");t.append(a)}(this,m)})),u){const n=w.clone();n.click((function(){return n.after(RWJS.Templates.Utils.loader({size:"medium"})),n.remove(),b(t,a+e.blogPosts.length,s,o,i,c,l,f),!1})),m.append(n)}else n()("li:last-child a",m).addClass("rw_corners_bottom");if(s){const e=n()(".rw_sidebar_icon",t.parent()),p=e.attr("data-tooltip"),d={getContent(){const e=n()("<div></div>");return e.append(`<h5>${p}</h5>`),b(e,a,s,o,i,c,l,!0),e}};r.a.createFlyout(e,"rw_flyout_space_news",d)}}else 0===a&&t.parent().remove()},error(e){0!==e.status&&n()("#rw_space_news_macro",t).html(`<div class='rw_warning_box'>${e.status} ${e.statusText}</div>`).show()}})}}.call(this,a(15).default)}}]);
}catch(e){WRMCB(e)};